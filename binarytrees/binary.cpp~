#include <iostream>

using namespace std;

struct node{
  int key;
  node* left;
  node* right;
};

class btree{
public:
  btree();
  ~btree();
  void insert(int key);
  node* search(int key);
  void destroy_tree();
  void display();

private:
  void destroy_tree(node* leaf);
  void insert(int key, node* leaf);
  node* search(int key, node* leaf);
  void display(node* node);
  node* root;
};

//Constructor
btree::btree(){
  root=NULL;
}

//Destructor
btree::~btree(){
  destroy_tree();
}

//Iterate through the tree one note at a time until it finds the last one
//  and delete them from the bottom up. Recursive.
void btree::destroy_tree(node *leaf){
  if(leaf!=NULL){
    destroy_tree(leaf->left);
    destroy_tree(leaf->right);
    delete leaf;
  }
}

//If the value is less than the current node put it in the left sub tree, else right.
void btree::insert(int key, node* leaf){
  if(key < leaf->key){
    if(leaf->left != NULL){
      insert(key, leaf->left);
    }else{
      leaf->left = new node;
      leaf->left->key = key;
      leaf->left->left = NULL;
      leaf->left->right = NULL;
    }
  }else if(key >= leaf->key){
    if(leaf->right != NULL){
      insert(key, leaf->right);
    }else{
      leaf->right = new node;
      leaf->right->key = key;
      leaf->right->left = NULL;
      leaf->right->right = NULL;
    }
  }
}

node* btree::search(int key, node* leaf){
  if(leaf != NULL){
    if(key == leaf->key){
      return leaf;
    }
    if(key < leaf->key){
      return search(key, leaf->left);
    }
    if(key >= leaf->key){
      return search(key, leaf->right);
    }
  }else{
    return NULL;
  }
}

void btree::display(node *node){
  if(node->left != NULL){
    display(node->left);
  }
  if(node->right != NULL){
    display(node->right);
  }
  cout << node->key << " ";
}

void btree::insert(int key){
  if(root != NULL){
    insert(key, root); //Use the private function
  }else{
    root = new node;
    root->key = key;
    root->left = NULL;
    root->right = NULL;
  }
}

node *btree::search(int key){
  return search(key, root);
}

void btree::destroy_tree(){
  destroy_tree(root);
}

void btree::display(){
  display(root);
}

//TODO: Ask k00pa wtf is going on.
int main(){
  int x;
  btree();
  for(int i=0; i<5; i++){
    cin >> x;
    btree::insert(x);
  }
  btree::display();
  return 0;
}
